<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Juego del Ahorcado - Versi√≥n Profesional con dise√±o moderno y funcionalidad completa">
    <title>Hangman Game - Versi√≥n Profesional</title>
    
    <style>
        /* ============================================
           VARIABLES CSS Y CONFIGURACI√ìN GLOBAL
           ============================================ */
        :root {
            /* Paleta de colores moderna */
            --primary-color: #6366f1;
            --primary-dark: #4f46e5;
            --primary-light: #818cf8;
            --secondary-color: #ec4899;
            --success-color: #10b981;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
            
            /* Colores de fondo */
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            
            /* Colores de texto */
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            
            /* Sombras */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            --shadow-glow: 0 0 20px rgba(99, 102, 241, 0.3);
            
            /* Bordes redondeados */
            --radius-sm: 0.375rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            
            /* Transiciones */
            --transition-fast: 150ms ease-in-out;
            --transition-normal: 300ms ease-in-out;
            --transition-slow: 500ms ease-in-out;
        }

        /* ============================================
           RESET Y ESTILOS BASE
           ============================================ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2rem 1rem;
            position: relative;
            overflow-x: hidden;
        }

        /* Efecto de fondo animado */
        body::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(99, 102, 241, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: backgroundMove 20s linear infinite;
            z-index: 0;
        }

        @keyframes backgroundMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        /* ============================================
           CONTENEDOR PRINCIPAL
           ============================================ */
        .game-container {
            position: relative;
            z-index: 1;
            max-width: 900px;
            width: 100%;
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-xl);
            padding: 2.5rem;
            box-shadow: var(--shadow-xl), var(--shadow-glow);
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        /* ============================================
           HEADER
           ============================================ */
        .game-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .game-title {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary-light), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 30px rgba(99, 102, 241, 0.5);
            animation: titlePulse 3s ease-in-out infinite;
        }

        @keyframes titlePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .game-subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            font-weight: 300;
        }

        /* ============================================
           PANEL DE ESTAD√çSTICAS
           ============================================ */
        .stats-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--bg-tertiary);
            padding: 1.25rem;
            border-radius: var(--radius-lg);
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all var(--transition-normal);
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary-color);
        }

        .stat-label {
            color: var(--text-muted);
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-light);
        }

        .stat-value.lives {
            color: var(--danger-color);
        }

        /* ============================================
           √ÅREA DEL CANVAS (DIBUJO DEL AHORCADO)
           ============================================ */
        .canvas-container {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(15, 23, 42, 0.5);
            border-radius: var(--radius-lg);
            border: 2px solid rgba(99, 102, 241, 0.2);
        }

        #hangmanCanvas {
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-md);
            background: rgba(255, 255, 255, 0.05);
        }

        /* ============================================
           √ÅREA DE LA PALABRA
           ============================================ */
        .word-display {
            text-align: center;
            margin-bottom: 2rem;
        }

        .word-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.75rem;
            min-height: 80px;
            padding: 1.5rem;
            background: rgba(15, 23, 42, 0.5);
            border-radius: var(--radius-lg);
            border: 2px solid rgba(99, 102, 241, 0.2);
        }

        .letter-box {
            width: 50px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
            background: var(--bg-tertiary);
            border: 2px solid var(--primary-color);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-md);
            transition: all var(--transition-normal);
            animation: letterAppear 0.3s ease-out;
        }

        @keyframes letterAppear {
            0% { transform: scale(0) rotate(180deg); opacity: 0; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        .letter-box.revealed {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            border-color: var(--primary-light);
            animation: letterReveal 0.5s ease-out;
        }

        @keyframes letterReveal {
            0% { transform: scale(1); }
            50% { transform: scale(1.2) rotate(5deg); }
            100% { transform: scale(1) rotate(0deg); }
        }

        .letter-box.space {
            background: transparent;
            border: none;
            width: 20px;
        }

        /* ============================================
           √ÅREA DE ENTRADA
           ============================================ */
        .input-section {
            margin-bottom: 2rem;
        }

        .input-group {
            display: flex;
            gap: 1rem;
            max-width: 400px;
            margin: 0 auto;
        }

        .input-field {
            flex: 1;
            padding: 1rem 1.5rem;
            font-size: 1.125rem;
            color: var(--text-primary);
            background: var(--bg-tertiary);
            border: 2px solid rgba(99, 102, 241, 0.3);
            border-radius: var(--radius-lg);
            outline: none;
            transition: all var(--transition-normal);
            text-transform: uppercase;
            text-align: center;
            font-weight: 600;
        }

        .input-field:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
            transform: translateY(-2px);
        }

        .input-field::placeholder {
            color: var(--text-muted);
            text-transform: none;
        }

        /* ============================================
           BOTONES
           ============================================ */
        .btn {
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            color: white;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            border: none;
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: all var(--transition-normal);
            box-shadow: var(--shadow-md);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg), var(--shadow-glow);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--bg-tertiary), var(--bg-secondary));
            margin-top: 1rem;
        }

        /* ============================================
           LETRAS USADAS
           ============================================ */
        .used-letters-section {
            margin-bottom: 2rem;
        }

        .section-title {
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 1rem;
        }

        .used-letters-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 0.5rem;
            min-height: 40px;
            padding: 1rem;
            background: rgba(15, 23, 42, 0.3);
            border-radius: var(--radius-lg);
        }

        .used-letter {
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: 600;
            background: var(--bg-tertiary);
            border-radius: var(--radius-sm);
            animation: usedLetterAppear 0.3s ease-out;
        }

        .used-letter.correct {
            background: var(--success-color);
            color: white;
        }

        .used-letter.incorrect {
            background: var(--danger-color);
            color: white;
        }

        @keyframes usedLetterAppear {
            0% { transform: scale(0); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* ============================================
           MENSAJES Y ALERTAS
           ============================================ */
        .message {
            text-align: center;
            padding: 1rem;
            border-radius: var(--radius-lg);
            margin-bottom: 1rem;
            font-weight: 600;
            animation: messageSlide 0.3s ease-out;
            display: none;
        }

        @keyframes messageSlide {
            0% { transform: translateY(-20px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }

        .message.show {
            display: block;
        }

        .message.error {
            background: rgba(239, 68, 68, 0.2);
            border: 2px solid var(--danger-color);
            color: var(--danger-color);
        }

        .message.success {
            background: rgba(16, 185, 129, 0.2);
            border: 2px solid var(--success-color);
            color: var(--success-color);
        }

        .message.warning {
            background: rgba(245, 158, 11, 0.2);
            border: 2px solid var(--warning-color);
            color: var(--warning-color);
        }

        /* ============================================
           MODAL DE GAME OVER
           ============================================ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal {
            background: var(--bg-secondary);
            border-radius: var(--radius-xl);
            padding: 3rem;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: var(--shadow-xl);
            border: 2px solid var(--primary-color);
            animation: modalSlide 0.5s ease-out;
        }

        @keyframes modalSlide {
            0% { transform: translateY(-50px) scale(0.9); opacity: 0; }
            100% { transform: translateY(0) scale(1); opacity: 1; }
        }

        .modal-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .modal-title.win {
            color: var(--success-color);
        }

        .modal-title.lose {
            color: var(--danger-color);
        }

        .modal-message {
            font-size: 1.25rem;
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
        }

        .modal-word {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-light);
            margin-bottom: 2rem;
            padding: 1rem;
            background: rgba(99, 102, 241, 0.1);
            border-radius: var(--radius-lg);
        }

        /* ============================================
           RESPONSIVE DESIGN
           ============================================ */
        @media (max-width: 768px) {
            .game-container {
                padding: 1.5rem;
            }

            .game-title {
                font-size: 2rem;
            }

            .stats-panel {
                grid-template-columns: repeat(2, 1fr);
            }

            .letter-box {
                width: 40px;
                height: 50px;
                font-size: 1.5rem;
            }

            .input-group {
                flex-direction: column;
            }

            .modal {
                padding: 2rem;
            }

            .modal-title {
                font-size: 2rem;
            }
        }

        @media (max-width: 480px) {
            .game-title {
                font-size: 1.5rem;
            }

            .stats-panel {
                grid-template-columns: 1fr;
            }

            .letter-box {
                width: 35px;
                height: 45px;
                font-size: 1.25rem;
            }
        }
    </style>
</head>
<body>
    <!-- Contenedor principal del juego -->
    <div class="game-container">
        <!-- Header del juego -->
        <header class="game-header">
            <h1 class="game-title">üéÆ HANGMAN</h1>
            <p class="game-subtitle">Adivina la palabra antes de que sea demasiado tarde</p>
        </header>

        <!-- Panel de estad√≠sticas -->
        <div class="stats-panel">
            <div class="stat-card">
                <div class="stat-label">Vidas Restantes</div>
                <div class="stat-value lives" id="livesDisplay">6</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Letras Usadas</div>
                <div class="stat-value" id="usedCount">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Aciertos</div>
                <div class="stat-value" id="correctCount">0</div>
            </div>
        </div>

        <!-- Canvas para dibujar el ahorcado -->
        <div class="canvas-container">
            <canvas id="hangmanCanvas" width="300" height="300"></canvas>
        </div>

        <!-- √Årea de visualizaci√≥n de la palabra -->
        <div class="word-display">
            <div class="word-container" id="wordContainer"></div>
        </div>

        <!-- Mensajes de feedback -->
        <div class="message" id="messageBox"></div>

        <!-- Secci√≥n de entrada -->
        <div class="input-section">
            <div class="input-group">
                <input 
                    type="text" 
                    id="letterInput" 
                    class="input-field" 
                    placeholder="Escribe una letra..."
                    maxlength="1"
                    autocomplete="off"
                >
                <button class="btn" id="submitBtn" onclick="handleGuess()">
                    Enviar
                </button>
            </div>
        </div>

        <!-- Letras usadas -->
        <div class="used-letters-section">
            <h3 class="section-title">Letras Intentadas</h3>
            <div class="used-letters-container" id="usedLettersContainer"></div>
        </div>

        <!-- Bot√≥n de reinicio -->
        <div style="text-align: center;">
            <button class="btn btn-secondary" onclick="resetGame()">
                üîÑ Nueva Partida
            </button>
        </div>
    </div>

    <!-- Modal de Game Over -->
    <div class="modal-overlay" id="gameOverModal">
        <div class="modal">
            <h2 class="modal-title" id="modalTitle"></h2>
            <p class="modal-message" id="modalMessage"></p>
            <div class="modal-word" id="modalWord"></div>
            <button class="btn" onclick="resetGame()">Jugar de Nuevo</button>
        </div>
    </div>

    <script>
        // ============================================
        // CONFIGURACI√ìN Y ESTADO DEL JUEGO
        // ============================================

        /**
         * Clase principal que gestiona el estado y la l√≥gica del juego del Ahorcado
         */
        class HangmanGame {
            constructor() {
                // Banco de palabras para el juego
                this.wordBank = [
                    "JAVASCRIPT", "PROGRAMACION", "DESARROLLO", "ALGORITMO",
                    "COMPUTADORA", "TECNOLOGIA", "INTERNET", "SOFTWARE",
                    "HARDWARE", "CODIGO", "FUNCION", "VARIABLE",
                    "NAVEGADOR", "APLICACION", "SISTEMA", "DATOS"
                ];

                // Estado del juego
                this.selectedWord = "";           // Palabra seleccionada para adivinar
                this.hiddenWord = [];             // Array con letras reveladas/ocultas
                this.usedLetters = new Set();     // Set de letras ya usadas
                this.remainingLives = 6;          // Vidas restantes (m√°ximo 6)
                this.correctGuesses = 0;          // Contador de aciertos
                this.gameActive = true;           // Estado del juego (activo/terminado)

                // Referencias al DOM
                this.canvas = document.getElementById('hangmanCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.letterInput = document.getElementById('letterInput');
                this.wordContainer = document.getElementById('wordContainer');
                this.usedLettersContainer = document.getElementById('usedLettersContainer');
                this.messageBox = document.getElementById('messageBox');
                this.gameOverModal = document.getElementById('gameOverModal');

                // Inicializar el juego
                this.init();
            }

            /**
             * Inicializa el juego seleccionando una palabra y preparando el estado inicial
             */
            init() {
                // Seleccionar palabra aleatoria
                this.selectedWord = this.selectRandomWord();
                console.log('üéØ Palabra seleccionada:', this.selectedWord); // Para debugging

                // Crear array de palabra oculta
                this.hiddenWord = this.createHiddenWord(this.selectedWord);

                // Renderizar estado inicial
                this.renderWord();
                this.updateStats();
                this.drawHangman();

                // Configurar event listeners
                this.setupEventListeners();
            }

            /**
             * Selecciona una palabra aleatoria del banco de palabras
             * @returns {string} Palabra seleccionada en may√∫sculas
             */
            selectRandomWord() {
                const randomIndex = Math.floor(Math.random() * this.wordBank.length);
                return this.wordBank[randomIndex].toUpperCase();
            }

            /**
             * Crea un array con la palabra oculta (guiones bajos para letras, espacios para espacios)
             * @param {string} word - Palabra a ocultar
             * @returns {Array} Array con caracteres ocultos
             */
            createHiddenWord(word) {
                return word.split('').map(char => {
                    // Mantener espacios visibles, ocultar letras
                    return char === ' ' ? ' ' : '_';
                });
            }

            /**
             * Configura los event listeners del juego
             */
            setupEventListeners() {
                // Permitir enviar con Enter
                this.letterInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && this.gameActive) {
                        handleGuess();
                    }
                });

                // Auto-focus en el input
                this.letterInput.focus();

                // Convertir a may√∫sculas autom√°ticamente
                this.letterInput.addEventListener('input', (e) => {
                    e.target.value = e.target.value.toUpperCase();
                });
            }

            /**
             * Procesa un intento de adivinanza
             * @param {string} letter - Letra ingresada por el usuario
             * @returns {boolean} True si el intento fue v√°lido
             */
            processGuess(letter) {
                // Validar que el juego est√© activo
                if (!this.gameActive) {
                    this.showMessage('El juego ha terminado. Inicia una nueva partida.', 'warning');
                    return false;
                }

                // Validar que sea una letra
                if (!this.isValidLetter(letter)) {
                    this.showMessage('Por favor, ingresa solo una letra v√°lida.', 'error');
                    return false;
                }

                // Convertir a may√∫sculas
                letter = letter.toUpperCase();

                // Verificar si la letra ya fue usada
                if (this.usedLetters.has(letter)) {
                    this.showMessage(`Ya intentaste la letra "${letter}". Prueba con otra.`, 'warning');
                    return false;
                }

                // Agregar letra a las usadas
                this.usedLetters.add(letter);

                // Verificar si la letra est√° en la palabra
                const isCorrect = this.selectedWord.includes(letter);

                if (isCorrect) {
                    // Letra correcta: revelar todas las ocurrencias
                    this.revealLetter(letter);
                    this.correctGuesses++;
                    this.showMessage(`¬°Excelente! La letra "${letter}" est√° en la palabra.`, 'success');
                    this.addUsedLetter(letter, true);

                    // Verificar victoria
                    if (this.checkWin()) {
                        this.endGame(true);
                    }
                } else {
                    // Letra incorrecta: restar vida
                    this.remainingLives--;
                    this.showMessage(`La letra "${letter}" no est√° en la palabra. Pierdes una vida.`, 'error');
                    this.addUsedLetter(letter, false);
                    this.drawHangman();

                    // Verificar derrota
                    if (this.remainingLives === 0) {
                        this.endGame(false);
                    }
                }

                // Actualizar estad√≠sticas
                this.updateStats();

                return true;
            }

            /**
             * Valida que el input sea una letra v√°lida
             * @param {string} letter - Car√°cter a validar
             * @returns {boolean} True si es una letra v√°lida
             */
            isValidLetter(letter) {
                return /^[a-zA-Z√±√ë√°√©√≠√≥√∫√Å√â√ç√ì√ö]$/.test(letter);
            }

            /**
             * Revela todas las ocurrencias de una letra en la palabra
             * @param {string} letter - Letra a revelar
             */
            revealLetter(letter) {
                for (let i = 0; i < this.selectedWord.length; i++) {
                    if (this.selectedWord[i] === letter) {
                        this.hiddenWord[i] = letter;
                    }
                }
                this.renderWord();
            }

            /**
             * Verifica si el jugador ha ganado (todas las letras reveladas)
             * @returns {boolean} True si gan√≥
             */
            checkWin() {
                return !this.hiddenWord.includes('_');
            }

            /**
             * Renderiza la palabra en el DOM
             */
            renderWord() {
                this.wordContainer.innerHTML = '';
                
                this.hiddenWord.forEach((char, index) => {
                    const letterBox = document.createElement('div');
                    
                    if (char === ' ') {
                        // Espacio
                        letterBox.className = 'letter-box space';
                    } else {
                        // Letra
                        letterBox.className = 'letter-box';
                        letterBox.textContent = char;
                        
                        // Agregar clase 'revealed' si la letra est√° visible
                        if (char !== '_') {
                            letterBox.classList.add('revealed');
                        }
                    }
                    
                    this.wordContainer.appendChild(letterBox);
                });
            }

            /**
             * Agrega una letra usada al contenedor visual
             * @param {string} letter - Letra usada
             * @param {boolean} isCorrect - Si fue correcta o no
             */
            addUsedLetter(letter, isCorrect) {
                const letterElement = document.createElement('div');
                letterElement.className = `used-letter ${isCorrect ? 'correct' : 'incorrect'}`;
                letterElement.textContent = letter;
                this.usedLettersContainer.appendChild(letterElement);
            }

            /**
             * Actualiza las estad√≠sticas visuales
             */
            updateStats() {
                document.getElementById('livesDisplay').textContent = this.remainingLives;
                document.getElementById('usedCount').textContent = this.usedLetters.size;
                document.getElementById('correctCount').textContent = this.correctGuesses;
            }

            /**
             * Muestra un mensaje temporal al usuario
             * @param {string} text - Texto del mensaje
             * @param {string} type - Tipo de mensaje (error, success, warning)
             */
            showMessage(text, type) {
                this.messageBox.textContent = text;
                this.messageBox.className = `message ${type} show`;

                // Ocultar mensaje despu√©s de 3 segundos
                setTimeout(() => {
                    this.messageBox.classList.remove('show');
                }, 3000);
            }

            /**
             * Dibuja el ahorcado seg√∫n las vidas restantes
             */
            drawHangman() {
                const ctx = this.ctx;
                const mistakes = 6 - this.remainingLives;

                // Limpiar canvas
                ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);

                // Configuraci√≥n de estilo
                ctx.strokeStyle = '#818cf8';
                ctx.lineWidth = 3;
                ctx.lineCap = 'round';

                // Base (siempre visible)
                ctx.beginPath();
                ctx.moveTo(20, 280);
                ctx.lineTo(180, 280);
                ctx.stroke();

                // Poste vertical (siempre visible)
                ctx.beginPath();
                ctx.moveTo(60, 280);
                ctx.lineTo(60, 20);
                ctx.stroke();

                // Poste horizontal (siempre visible)
                ctx.beginPath();
                ctx.moveTo(60, 20);
                ctx.lineTo(200, 20);
                ctx.stroke();

                // Cuerda (siempre visible)
                ctx.beginPath();
                ctx.moveTo(200, 20);
                ctx.lineTo(200, 50);
                ctx.stroke();

                // Dibujar partes seg√∫n errores
                if (mistakes >= 1) {
                    // Cabeza
                    ctx.beginPath();
                    ctx.arc(200, 70, 20, 0, Math.PI * 2);
                    ctx.stroke();
                }

                if (mistakes >= 2) {
                    // Cuerpo
                    ctx.beginPath();
                    ctx.moveTo(200, 90);
                    ctx.lineTo(200, 150);
                    ctx.stroke();
                }

                if (mistakes >= 3) {
                    // Brazo izquierdo
                    ctx.beginPath();
                    ctx.moveTo(200, 110);
                    ctx.lineTo(170, 130);
                    ctx.stroke();
                }

                if (mistakes >= 4) {
                    // Brazo derecho
                    ctx.beginPath();
                    ctx.moveTo(200, 110);
                    ctx.lineTo(230, 130);
                    ctx.stroke();
                }

                if (mistakes >= 5) {
                    // Pierna izquierda
                    ctx.beginPath();
                    ctx.moveTo(200, 150);
                    ctx.lineTo(180, 200);
                    ctx.stroke();
                }

                if (mistakes >= 6) {
                    // Pierna derecha
                    ctx.beginPath();
                    ctx.moveTo(200, 150);
                    ctx.lineTo(220, 200);
                    ctx.stroke();

                    // Cara triste (game over)
                    ctx.strokeStyle = '#ef4444';
                    // Ojos
                    ctx.beginPath();
                    ctx.moveTo(193, 65);
                    ctx.lineTo(197, 69);
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.moveTo(197, 65);
                    ctx.lineTo(193, 69);
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.moveTo(203, 65);
                    ctx.lineTo(207, 69);
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.moveTo(207, 65);
                    ctx.lineTo(203, 69);
                    ctx.stroke();
                    // Boca triste
                    ctx.beginPath();
                    ctx.arc(200, 80, 8, 0.2 * Math.PI, 0.8 * Math.PI);
                    ctx.stroke();
                }
            }

            /**
             * Finaliza el juego (victoria o derrota)
             * @param {boolean} won - True si gan√≥, false si perdi√≥
             */
            endGame(won) {
                this.gameActive = false;

                const modalTitle = document.getElementById('modalTitle');
                const modalMessage = document.getElementById('modalMessage');
                const modalWord = document.getElementById('modalWord');

                if (won) {
                    modalTitle.textContent = 'üéâ ¬°VICTORIA!';
                    modalTitle.className = 'modal-title win';
                    modalMessage.textContent = '¬°Felicidades! Has adivinado la palabra.';
                } else {
                    modalTitle.textContent = 'üíÄ GAME OVER';
                    modalTitle.className = 'modal-title lose';
                    modalMessage.textContent = 'Te has quedado sin vidas. La palabra era:';
                }

                modalWord.textContent = this.selectedWord;
                this.gameOverModal.classList.add('show');
            }

            /**
             * Reinicia el juego a su estado inicial
             */
            reset() {
                // Resetear estado
                this.selectedWord = "";
                this.hiddenWord = [];
                this.usedLetters.clear();
                this.remainingLives = 6;
                this.correctGuesses = 0;
                this.gameActive = true;

                // Limpiar DOM
                this.usedLettersContainer.innerHTML = '';
                this.letterInput.value = '';
                this.messageBox.classList.remove('show');
                this.gameOverModal.classList.remove('show');

                // Reinicializar
                this.init();
            }
        }

        // ============================================
        // INSTANCIA GLOBAL DEL JUEGO
        // ============================================
        let game = new HangmanGame();

        // ============================================
        // FUNCIONES GLOBALES (LLAMADAS DESDE HTML)
        // ============================================

        /**
         * Maneja el intento de adivinanza del usuario
         */
        function handleGuess() {
            const letter = game.letterInput.value.trim();
            
            if (game.processGuess(letter)) {
                // Limpiar input solo si el intento fue v√°lido
                game.letterInput.value = '';
            }
            
            // Mantener focus en el input
            game.letterInput.focus();
        }

        /**
         * Reinicia el juego
         */
        function resetGame() {
            game.reset();
        }
    </script>
</body>
</html>
